<div id="loginScreen">
    <div class="login-container">
        <h2>Admin Login</h2>
        <form class="login-form" onsubmit="return handleLogin(event)">
            <input type="text" id="username" placeholder="Username" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit">Login</button>
            <div class="login-error" id="loginError">Invalid username or password</div>
        </form>
    </div>
</div>

<!-- Rest of the content -->
<div class="container" style="display: none;">
    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Travenner Admin</h2>
        <ul>
            <li><a href="#" onclick="showSection('packageSection')" class="active">
                <i class="fas fa-box"></i> Manage Packages
            </a></li>
            <li><a href="#" onclick="showSection('bookingSection')">
                <i class="fas fa-calendar-check"></i> Booking Management
            </a></li>
            <li><a href="#" onclick="showSection('userSection')">
                <i class="fas fa-users"></i> User Management
            </a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Package Management -->
        <div id="packageSection">
            <h1>Manage Travel Packages</h1>
            <div class="button-group">
                <button class="action-button add" onclick="showAddPackageForm()">
                    <i class="fas fa-plus"></i> Add Package
                </button>
                <button class="action-button update" onclick="showUpdatePackageForm()">
                    <i class="fas fa-edit"></i> Update Package
                </button>
                <button class="action-button delete" onclick="showDeletePackageConfirm()">
                    <i class="fas fa-trash"></i> Delete Package
                </button>
            </div>
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" id="searchPackage" placeholder="Search Packages..." oninput="searchPackages()">
            </div>
            <div class="package-grid" id="packageGrid">
                <!-- Packages will be dynamically added here -->
            </div>
        </div>

        <!-- User Management -->
        <div id="userSection" style="display: none;">
            <h1>User Management</h1>
            <div class="button-group">
                <button class="action-button add" onclick="showAddUserForm()">
                    <i class="fas fa-user-plus"></i> Add New User
                </button>
            </div>
            <div class="table-container">
                <table id="userTable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Role</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="userTableBody">
                        <!-- Dynamic Content will be inserted here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Booking Management -->
        <div id="bookingSection" style="display: none;">
            <h1>Booking Management</h1>
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" id="searchBooking" placeholder="Search bookings by package name, location, or trip type..." oninput="searchBookings()">
            </div>
            <div class="booking-table-container">
                <table id="bookingTable" class="booking-table">
                    <thead>
                        <tr>
                            <th>Package Name</th>
                            <th>Location</th>
                            <th>Price</th>
                            <th>Trip Type</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="bookingTableBody">
                        <!-- Dynamic Content will be inserted here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Add/Edit Package Form -->
<div class="form-container" id="packageFormContainer" style="display: none;">
    <h2>Add New Package</h2>
    <div class="form-group">
        <input type="text" id="packageName" placeholder="Package Name" required>
        <input type="text" id="location" placeholder="Location" required>
    </div>
    <div class="form-group">
        <input type="number" id="packagePrice" placeholder="Price" required>
        <textarea id="overview" placeholder="Overview" required></textarea>
    </div>
    <div class="form-group">
        <div class="image-upload">
            <label for="images">Upload Images</label>
            <input type="file" id="images" accept="image/*" multiple required>
            <div class="preview-container" id="imagePreview"></div>
        </div>
    </div>
    <div class="form-group">
        <input type="text" id="departureCity" placeholder="Departure City" required>
        <input type="text" id="arrivalCity" placeholder="Arrival City" required>
    </div>
    <div class="form-group">
        <select id="tripType" required>
            <option value="">Select Trip Type</option>
            <option value="adventure">Adventure</option>
            <option value="leisure">Leisure</option>
            <option value="business">Business</option>
            <option value="family">Family</option>
            <option value="honeymoon">Honeymoon</option>
        </select>
        <textarea id="itinerary" placeholder="Itinerary" required></textarea>
    </div>
    <div class="form-actions">
        <button class="button" onclick="savePackage()">
            <i class="fas fa-save"></i> Save Package
        </button>
        <button class="button cancel" onclick="cancelForm('packageSection')">
            <i class="fas fa-times"></i> Cancel
        </button>
    </div>
</div>

<!-- Add/Edit User Form -->
<div class="form-container" id="userFormContainer" style="display: none;">
    <h2>Add New User</h2>
    <div class="form-group">
        <input type="text" id="userName" placeholder="Full Name">
    </div>
    <div class="form-group">
        <input type="email" id="userEmail" placeholder="Email Address">
    </div>
    <div class="form-group">
        <input type="password" id="userPassword" placeholder="Password">
    </div>
    <div class="form-group">
        <input type="tel" id="userPhone" placeholder="Phone Number">
    </div>
    <div class="form-group">
        <select id="userRole">
            <option value="">Select Role</option>
            <option value="admin">Admin</option>
            <option value="agent">Travel Agent</option>
            <option value="customer">Customer</option>
        </select>
    </div>
    <div class="form-group">
        <input type="text" id="userAddress" placeholder="Address">
    </div>
    <div class="form-actions">
        <button class="button" onclick="saveUser()">
            <i class="fas fa-save"></i> Save User
        </button>
        <button class="button cancel" onclick="cancelForm('userSection')">
            <i class="fas fa-times"></i> Cancel
        </button>
    </div>
</div>

<!-- Add/Edit Booking Form -->
<div class="form-container" id="bookingFormContainer" style="display: none;">
    <h2>Add New Booking</h2>
    <div class="form-group">
        <input type="text" id="bookingPackageName" placeholder="Package Name">
    </div>
    <div class="form-group">
        <input type="text" id="bookingLocation" placeholder="Location">
    </div>
    <div class="form-group">
        <input type="number" id="bookingPrice" placeholder="Price">
    </div>
    <div class="form-group">
        <select id="tripType">
            <option value="">Select Trip Type</option>
            <option value="adventure">Adventure</option>
            <option value="leisure">Leisure</option>
            <option value="business">Business</option>
            <option value="family">Family</option>
            <option value="honeymoon">Honeymoon</option>
        </select>
    </div>
    <div class="form-group">
        <select id="bookingStatus">
            <option value="">Select Status</option>
            <option value="pending">Pending</option>
            <option value="confirmed">Confirmed</option>
            <option value="cancelled">Cancelled</option>
            <option value="completed">Completed</option>
        </select>
    </div>
    <div class="form-actions">
        <button class="button" onclick="saveBooking()">
            <i class="fas fa-save"></i> Save Booking
        </button>
        <button class="button cancel" onclick="cancelForm('bookingSection')">
            <i class="fas fa-times"></i> Cancel
        </button>
    </div>
</div>

<div id="confirmModal" style="display: none;">
    <div class="modal-content">
        <p>Are you sure you want to delete this item?</p>
        <button class="button" id="confirmDelete">Yes</button>
        <button class="button" onclick="closeModal()">No</button>
    </div>
</div>

<script>
    // Add debounce function
    function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }

    let packages = [];
    let users = [];
    let bookings = [];
    let activeSection = 'packageSection';
    let selectedPackage = null;

    // Show the specified section with animation
    function showSection(sectionId) {
        // Fade out current section
        document.getElementById(activeSection).style.opacity = '0';
        setTimeout(() => {
            document.getElementById(activeSection).style.display = 'none';
            document.getElementById(sectionId).style.display = 'block';
            // Trigger reflow
            void document.getElementById(sectionId).offsetHeight;
            document.getElementById(sectionId).style.opacity = '1';
            activeSection = sectionId;
        }, 300);

        // Update active state in sidebar
        document.querySelectorAll('.sidebar a').forEach(link => {
            link.classList.remove('active');
        });
        document.querySelector(`[onclick="showSection('${sectionId}')"]`).classList.add('active');
    }

    // Show packages in grid layout
    function showPackages(filteredPackages = packages) {
        const packageGrid = document.getElementById('packageGrid');
        packageGrid.style.opacity = '0';
        
        setTimeout(() => {
            packageGrid.innerHTML = '';

            if (filteredPackages.length === 0) {
                packageGrid.innerHTML = '<p class="no-packages">No packages found</p>';
                packageGrid.style.opacity = '1';
                return;
            }

            filteredPackages.forEach((pkg, index) => {
                const card = document.createElement('div');
                card.className = 'package-card';
                card.style.animation = `slideIn 0.3s ease forwards ${index * 0.1}s`;
                
                // Create slideshow HTML
                const slideshowHtml = `
                    <div class="slideshow-container">
                        ${pkg.images ? pkg.images.map((img, i) => `
                            <div class="slide ${i === 0 ? 'active' : ''}" data-index="${i}">
                                <img src="${img}" alt="${pkg.name} - Image ${i + 1}">
                            </div>
                        `).join('') : `
                            <div class="slide active">
                                <img src="https://via.placeholder.com/300x200" alt="${pkg.name}">
                            </div>
                        `}
                        <div class="slideshow-nav">
                            ${pkg.images ? pkg.images.map((_, i) => `
                                <button class="${i === 0 ? 'active' : ''}" onclick="changeSlide(${pkg.id}, ${i})"></button>
                            `).join('') : ''}
                        </div>
                    </div>
                `;

                card.innerHTML = `
                    ${slideshowHtml}
                    <div class="card-content">
                        <h3>${pkg.name}</h3>
                        <div class="location">${pkg.location || 'Location'}</div>
                        <div class="price-section">
                            <div class="price-label">12% Off</div>
                            <div class="price-amount original">$${Math.round(pkg.price * 1.12)}</div>
                            <div class="price-amount">$${pkg.price}</div>
                        </div>
                        <button class="button" onclick="selectPackage(${pkg.id})">
                            <i class="fas fa-check"></i> Select
                        </button>
                    </div>
                `;
                packageGrid.appendChild(card);
            });
            
            packageGrid.style.opacity = '1';
        }, 300);
    }

    // Select a package for update or delete
    function selectPackage(id) {
        selectedPackage = packages.find(pkg => pkg.id === id);
        document.querySelectorAll('.package-card').forEach(card => {
            card.classList.remove('selected');
        });
        event.target.closest('.package-card').classList.add('selected');
        showNotification('Package selected', 'success');
    }

    // Show add package form
    function showAddPackageForm() {
        selectedPackage = null;
        document.getElementById('packageFormContainer').style.display = 'block';
        document.getElementById('packageGrid').style.opacity = '0.5';
        document.getElementById('packageName').value = '';
        document.getElementById('packagePrice').value = '';
        document.getElementById('packageDescription').value = '';
        document.querySelector('#packageFormContainer h2').textContent = 'Add New Package';
    }

    // Show update package form
    function showUpdatePackageForm() {
        if (!selectedPackage) {
            showNotification('Please select a package to update', 'error');
            return;
        }
        document.getElementById('packageFormContainer').style.display = 'block';
        document.getElementById('packageGrid').style.opacity = '0.5';
        document.getElementById('packageName').value = selectedPackage.name;
        document.getElementById('packagePrice').value = selectedPackage.price;
        document.getElementById('packageDescription').value = selectedPackage.description;
        document.querySelector('#packageFormContainer h2').textContent = 'Update Package';
    }

    // Show delete package confirmation
    function showDeletePackageConfirm() {
        if (!selectedPackage) {
            showNotification('Please select a package to delete', 'error');
            return;
        }
        showConfirmModal();
    }

    // Save package with validation and feedback
    function savePackage() {
        const packageData = {
            id: selectedPackage ? selectedPackage.id : Date.now(),
            name: document.getElementById('packageName').value,
            location: document.getElementById('location').value,
            price: document.getElementById('packagePrice').value,
            overview: document.getElementById('overview').value,
            departureCity: document.getElementById('departureCity').value,
            arrivalCity: document.getElementById('arrivalCity').value,
            tripType: document.getElementById('tripType').value,
            itinerary: document.getElementById('itinerary').value,
            images: [] // Will be populated with image data
        };

        // Handle image files
        const imageFiles = document.getElementById('images').files;
        if (imageFiles.length === 0) {
            showNotification('Please select at least one image', 'error');
            return;
        }

        // Validate required fields
        for (let key in packageData) {
            if (!packageData[key] && key !== 'images') {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
        }

        // Convert image files to data URLs
        const promises = Array.from(imageFiles).map(file => {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = e => resolve(e.target.result);
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        });

        Promise.all(promises).then(imageDataUrls => {
            packageData.images = imageDataUrls;
            
            if (selectedPackage) {
                // Update existing package
                const index = packages.findIndex(p => p.id === selectedPackage.id);
                packages[index] = packageData;
                showNotification('Package updated successfully', 'success');
            } else {
                // Add new package
                packages.push(packageData);
                showNotification('Package added successfully', 'success');
            }

            localStorage.setItem('packages', JSON.stringify(packages));
            showPackages();
            cancelForm('packageSection');
        }).catch(error => {
            showNotification('Error processing images', 'error');
            console.error('Error:', error);
        });
    }

    // Show the list of users
    function showUsers() {
        const tableBody = document.getElementById('userTableBody');
        tableBody.innerHTML = '';

        if (users.length === 0) {
            const emptyRow = document.createElement('tr');
            emptyRow.innerHTML = '<td colspan="5" style="text-align: center;">No users found</td>';
            tableBody.appendChild(emptyRow);
            return;
        }

        users.forEach(user => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${user.name || '-'}</td>
                <td>${user.email || '-'}</td>
                <td>${user.phone || '-'}</td>
                <td><span class="status-badge">${user.role || 'customer'}</span></td>
                <td>
                    <button class="button" onclick="editUser(${user.id})">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                    <button class="button" onclick="deleteUser(${user.id})">
                        <i class="fas fa-trash"></i> Delete
                    </button>
                </td>
            `;
            tableBody.appendChild(row);
        });
    }

    // Show form to add a new user
    function showAddUserForm() {
        document.getElementById('userFormContainer').style.display = 'block';
        document.getElementById('userTable').style.opacity = '0.5';
        document.querySelector('#userFormContainer h2').textContent = 'Add New User';
        
        // Clear form fields
        document.getElementById('userName').value = '';
        document.getElementById('userEmail').value = '';
        document.getElementById('userPassword').value = '';
        document.getElementById('userPhone').value = '';
        document.getElementById('userRole').value = '';
        document.getElementById('userAddress').value = '';
    }

    // Save the user (add/edit)
    function saveUser() {
        const userName = document.getElementById('userName').value;
        const userEmail = document.getElementById('userEmail').value;
        const userPassword = document.getElementById('userPassword').value;
        const userPhone = document.getElementById('userPhone').value;
        const userRole = document.getElementById('userRole').value;
        const userAddress = document.getElementById('userAddress').value;

        if (!userName || !userEmail || !userRole) {
            showNotification('Please fill in all required fields', 'error');
            return;
        }

        const newUser = {
            id: Date.now(),
            name: userName,
            email: userEmail,
            password: userPassword,
            phone: userPhone,
            role: userRole,
            address: userAddress
        };

        users.push(newUser);
        localStorage.setItem('users', JSON.stringify(users));
        showUsers();
        showNotification('User saved successfully', 'success');
        cancelForm('userSection');
    }

    // Edit user
    function editUser(id) {
        const user = users.find(u => u.id === id);
        if (user) {
            document.getElementById('userName').value = user.name;
            document.getElementById('userEmail').value = user.email;
            document.getElementById('userPhone').value = user.phone || '';
            document.getElementById('userRole').value = user.role;
            document.getElementById('userAddress').value = user.address || '';
            document.getElementById('userFormContainer').style.display = 'block';
            document.getElementById('userTable').style.display = 'none';
            document.querySelector('#userFormContainer h2').textContent = 'Edit User';
        }
    }

    // Delete user with confirmation
    function deleteUser(id) {
        if (confirm('Are you sure you want to delete this user?')) {
            users = users.filter(user => user.id !== id);
            localStorage.setItem('users', JSON.stringify(users));
            showUsers();
            showNotification('User deleted successfully', 'success');
        }
    }

    // Show the list of bookings
    function showBookings() {
        const tableBody = document.getElementById('bookingTableBody');
        tableBody.innerHTML = '';

        bookings.forEach(booking => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${booking.packageName}</td>
                <td>${booking.location}</td>
                <td>$${booking.price}</td>
                <td><span class="trip-type-badge trip-type-${booking.tripType.toLowerCase()}">${booking.tripType}</span></td>
                <td><span class="status-badge status-${booking.status.toLowerCase()}">${booking.status}</span></td>
            `;
            tableBody.appendChild(row);
        });
    }

    // Add search functionality for bookings
    function searchBookings() {
        const searchQuery = document.getElementById('searchBooking').value.toLowerCase();
        const filteredBookings = bookings.filter(booking => 
            booking.packageName.toLowerCase().includes(searchQuery) ||
            booking.location.toLowerCase().includes(searchQuery) ||
            booking.tripType.toLowerCase().includes(searchQuery)
        );
        
        const tableBody = document.getElementById('bookingTableBody');
        tableBody.innerHTML = '';

        filteredBookings.forEach(booking => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${booking.packageName}</td>
                <td>${booking.location}</td>
                <td>$${booking.price}</td>
                <td><span class="trip-type-badge trip-type-${booking.tripType.toLowerCase()}">${booking.tripType}</span></td>
                <td><span class="status-badge status-${booking.status.toLowerCase()}">${booking.status}</span></td>
            `;
            tableBody.appendChild(row);
        });
    }

    // Modal functions
    function showConfirmModal() {
        const modal = document.getElementById('confirmModal');
        modal.style.display = 'flex';
        modal.classList.add('active');
        
        // Set up delete confirmation
        document.getElementById('confirmDelete').onclick = function() {
            if (selectedPackage) {
                packages = packages.filter(pkg => pkg.id !== selectedPackage.id);
                localStorage.setItem('packages', JSON.stringify(packages));
                showPackages();
                selectedPackage = null;
            }
            closeModal();
            showNotification('Package deleted successfully', 'success');
        };
    }

    function closeModal() {
        const modal = document.getElementById('confirmModal');
        modal.classList.remove('active');
        setTimeout(() => {
            modal.style.display = 'none';
        }, 300);
    }

    // Add sample data if none exists
    function initializeSampleData() {
        if (!localStorage.getItem('packages')) {
            packages = [
                {
                    id: 1,
                    name: "Bali Paradise Escape",
                    price: 1299,
                    description: "Experience the ultimate tropical getaway in Bali with this luxurious 7-day package including beachfront accommodation, traditional spa treatments, and guided cultural tours."
                }
            ];
            localStorage.setItem('packages', JSON.stringify(packages));
        }

        if (!localStorage.getItem('bookings')) {
            bookings = [
                {
                    id: 1,
                    packageName: "Bali Paradise Escape",
                    location: "Bali, Indonesia",
                    price: 1299,
                    tripType: "Leisure",
                    status: "Confirmed"
                }
            ];
            localStorage.setItem('bookings', JSON.stringify(bookings));
        }

        if (!localStorage.getItem('users')) {
            users = [
                {
                    id: 1,
                    name: "John Doe",
                    email: "john@example.com",
                    phone: "+1234567890",
                    role: "admin",
                    address: "123 Main St"
                },
                {
                    id: 2,
                    name: "Jane Smith",
                    email: "jane@example.com",
                    phone: "+1987654321",
                    role: "agent",
                    address: "456 Oak Ave"
                }
            ];
            localStorage.setItem('users', JSON.stringify(users));
        }
    }

    // Add login handling
    const adminCredentials = {
        username: 'admin',
        password: 'admin123'
    };

    function handleLogin(event) {
        event.preventDefault();
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const loginError = document.getElementById('loginError');

        if (username === adminCredentials.username && password === adminCredentials.password) {
            // Hide login screen and show main content
            document.getElementById('loginScreen').style.display = 'none';
            document.querySelector('.container').style.display = 'flex';
            showNotification('Welcome to Admin Panel', 'success');
        } else {
            loginError.style.display = 'block';
            setTimeout(() => {
                loginError.style.display = 'none';
            }, 3000);
        }
        return false;
    }

    // Initialize the page
    window.onload = function() {
        // Show login screen first
        document.getElementById('loginScreen').style.display = 'flex';
        document.querySelector('.container').style.display = 'none';

        // Initialize sample data
        initializeSampleData();
        
        // Load data from localStorage
        packages = JSON.parse(localStorage.getItem('packages')) || [];
        users = JSON.parse(localStorage.getItem('users')) || [];
        bookings = JSON.parse(localStorage.getItem('bookings')) || [];
        
        // Prepare sections (they will be shown after login)
        showPackages();
        showBookings();
        showUsers();
    };

    // Search packages with debounce
    const searchPackages = debounce(() => {
        const searchQuery = document.getElementById('searchPackage').value.toLowerCase();
        let filteredPackages = packages.filter(pkg => 
            (pkg.name && pkg.name.toLowerCase().includes(searchQuery)) ||
            (pkg.location && pkg.location.toLowerCase().includes(searchQuery)) ||
            (pkg.overview && pkg.overview.toLowerCase().includes(searchQuery))
        );
        showPackages(filteredPackages);
    }, 300);

    // Save booking
    function saveBooking() {
        const packageName = document.getElementById('bookingPackageName').value;
        const location = document.getElementById('bookingLocation').value;
        const price = document.getElementById('bookingPrice').value;
        const tripType = document.getElementById('tripType').value;
        const status = document.getElementById('bookingStatus').value;

        if (!packageName || !location || !price || !tripType || !status) {
            showNotification('Please fill in all fields', 'error');
            return;
        }

        const newBooking = {
            id: Date.now(),
            packageName,
            location,
            price: parseFloat(price),
            tripType,
            status
        };

        bookings.push(newBooking);
        localStorage.setItem('bookings', JSON.stringify(bookings));
        showBookings();
        showNotification('Booking saved successfully', 'success');
        cancelForm('bookingSection');
    }

    // Cancel form with proper handling
    function cancelForm(sectionId) {
        // Hide all form containers
        document.getElementById('packageFormContainer').style.display = 'none';
        document.getElementById('userFormContainer').style.display = 'none';
        document.getElementById('bookingFormContainer').style.display = 'none';
        
        // Reset opacity for all sections
        document.getElementById('packageGrid').style.opacity = '1';
        document.getElementById('userTable').style.opacity = '1';
        
        // Clear selected states
        selectedPackage = null;
        document.querySelectorAll('.package-card').forEach(card => {
            card.classList.remove('selected');
        });
        
        // Clear form inputs
        const formInputs = document.querySelectorAll('input, textarea, select');
        formInputs.forEach(input => {
            input.value = '';
        });

        // Show appropriate section content
        if (sectionId === 'userSection') {
            showUsers();
        }
    }

    // Show notification
    function showNotification(message, type = 'success') {
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.textContent = message;
        document.body.appendChild(notification);

        setTimeout(() => {
            notification.classList.add('show');
        }, 100);

        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => {
                notification.remove();
            }, 300);
        }, 3000);
    }

    // Add this to your existing JavaScript
    function handleImageUpload(event) {
        const preview = document.getElementById('imagePreview');
        preview.innerHTML = '';
        const files = event.target.files;

        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            if (file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    preview.appendChild(img);
                }
                reader.readAsDataURL(file);
            }
        }
    }

    // Add this to your window.onload function
    document.getElementById('images').addEventListener('change', handleImageUpload);
</script>

<!-- Add Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
